---
layout: default
title: プロキシー環境でのGradle for Java
description: プロキシ環境下でVSCodeでGradle for Javaを利用すると、プロキシの設定をしないと動作しません。プロキシの設定の書き方を記載します。
category: java
image: /images/it/java/cafe_mark.png
created_at: 2022-11-12
last_modifeid_at: 2022-11-12
---

プロキシ環境下でVSCodeでGradle for Javaを利用すると、プロキシの設定をしないと動作しません。
OSの設定に書いてるので使ってくれるのかと思いきや、VSCodeの設定に書かないといけなかったので、その書き方について記載します。

## 現象

まずは発生した現象です。

VSCodeで「Gradle for Java」をインストールして、Gradleのプロジェクトを作成しました。
そこでJavaで明らかに間違った書き方をしているのに、エラーが出ない状態になりました。

問題が出ていて、内容としては「gradleのファイルがダウンロードできません。」という内容でした。

しかし、そこに書いてあったURLにブラウザなどで、アクセスるとダウンロードできる状態でした。

## 原因

これは・・・いつものプロキシの問題かーと思い、Gradleのファイルなどにプロキシの設定を追加しているか
と確認したのですが、すでに記載されていて。。どうしたものかと調べたのですが、
結局、VSCodeの「settings.json」にproxyの情報を追記する必要があるようでした。

## VSCodeの「settings.json」の設定変更

VSCodeを開いて`Ctrl + ,`とすると設定画面が表示されます。

Filterで`proxy`と書けば`Http: Proxy`というのが出るので
そこにProxyの設定を書いて保存すれば終了です。

説明文に「使用するプロキシ設定。設定されていない場合は、'http_proxy' および 'https_proxy' の環境変数から継承されます。」と書かれているので、環境変数に追記してもよさそうです。

設定画面がめんどくさいから、直接編集したい場合は

`Ctrl + Shift + P`でコマンドパレットを開き`settings`と書いて検索すると
`基本設定:ユーザ設定を開く(JSON)`が出てくるので、それをクリックすると開けます。

末尾に以下を足して保存すればよいです。  
`"http.proxy": "http://proxy.example.com:8000"`

JSONなので、前の項目にカンマを付けてください。

## まとめ

今回は、VSCodeのプロキシの設定の方法でした。

毎度のことですが、プロキシ環境だと色々設定がめんどくさいですね。
あちこちに設定があるので、どれがどれだかわからなくなります・・・