---
layout: default
title: 古いMavenの設定で、はまったこと
description: 古いMavenの設定をそのまま持ってきて、バージョンやサポート状況の違いにより動作しなかったことを記載します。
category: IT
---

世の中のITの変化は速く、  
数年前の設定手順書をもらって  
そのまま実行しても動かないということはよくあると思います。

今回は、Mavenの設定で私が、はまった内容を2点ほど紹介します。

## セントラルリポジトリでhttpが使えない。

はまったこと1つ目です。

具体的なエラー内容は忘れてしまいました。  
後ほどわかったら追記します。

昔は動いていたはずなのに、`mvn install`とすると  
インポートできないか何かのエラーが出て動きませんでした。  

理由は2020年1月15日からセントラルリポジトリが  
http→httpsに代わったようです。  
もう1年以上前の話とは、恥ずかし( ;∀;)  

確かにHTTPS Required. って出てますね。

![https required](/images/it/java/mavenHttpsRequired.png)


http→httpsに変えることで  
とりあえず、そこは動きました。  
この時点ではまだアプリは動きませんでしたｗ  
まだ罠がある。。

## mavenの最新版だとhttpが使えない

はまったこと2つ目です。

私は新しいバージョンのほうがいいと思い、  
Mavenの最新版を落としてきて動かしました。  
バージョンは3.8.1です。

しかし、3.8.1からは、httpのアクセス自体が  
デフォルト？でブロックされるようです。

なので、あまりいい対策が見つからなかったので  
バージョンを落としましたｗいいのか？？

独自リポジトリをhttps対応するなど考えよっと。  
GithubのPackagesとかで`mvn deploy`すれば  
解決するような気はしています。

## まとめ

基本的にmavenでhttpのアクセスはできない（しない）ように変わっているようです。  
昔は動くソースは触るなと言いましたが、  
今は触らないと動かなくなる時代ですねｗ  
継続的に進歩していく必要性を直に感じました。


